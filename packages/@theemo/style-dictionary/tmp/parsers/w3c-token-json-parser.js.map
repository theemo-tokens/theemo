{"version":3,"sources":["../../src/parsers/w3c-token-json-parser.ts"],"sourcesContent":["/**\n * Parses json and replace `$value` with `value` and `$description`\n * with `comment` to make it work with style dictionary\n *\n * @remarks\n *\n * From {@link https://github.com/lukasoppermann/style-dictionary-utils}\n *\n * @author Lukas Oppermann\n */\nexport const w3cTokenJsonParser = {\n  pattern: /\\.json$|\\.tokens\\.json$|\\.tokens$/,\n  parse: ({ contents }: { contents: string }) => {\n    const preparedContent = (contents || '{}')\n      // replace $value with value so that style dictionary recognizes it\n      .replace(/\"\\$?value\"\\s*:/g, '\"value\":')\n      // replace $type with type\n      .replace(/\"\\$?type\"\\s*:/g, '\"type\":')\n      // convert $description to comment\n      .replace(/\"\\$?description\"\\s*:/g, '\"comment\":');\n\n    return JSON.parse(preparedContent);\n  }\n};\n"],"names":["w3cTokenJsonParser","pattern","parse","contents","preparedContent","replace","JSON"],"mappings":"AAAA;;;;;;;;;CASC;;;;+BACYA;;;eAAAA;;;AAAN,MAAMA,qBAAqB;IAChCC,SAAS;IACTC,OAAO,CAAC,EAAEC,QAAQ,EAAwB;QACxC,MAAMC,kBAAkB,AAACD,CAAAA,YAAY,IAAG,CACtC,mEAAmE;SAClEE,OAAO,CAAC,mBAAmB,WAC5B,0BAA0B;SACzBA,OAAO,CAAC,kBAAkB,UAC3B,kCAAkC;SACjCA,OAAO,CAAC,yBAAyB;QAEpC,OAAOC,KAAKJ,KAAK,CAACE;IACpB;AACF"}